{
  "analysis_metadata": {
    "analysis_date": "January 6, 2025",
    "agent": "quality-agent",
    "repository": "tkr-news-gather",
    "scan_depth": 3,
    "version": "1.0"
  },
  "codebase_metrics": {
    "files": {
      "total_python_files": 26,
      "source_files": 18,
      "test_files": 2,
      "config_files": 6,
      "largest_file": {
        "name": "src/main_secure.py",
        "lines": 545
      },
      "smallest_file": {
        "name": "src/__init__.py",
        "lines": 0
      }
    },
    "lines_of_code": {
      "total": 2884,
      "source": 2350,
      "tests": 534,
      "comments": 180,
      "blank_lines": 320,
      "average_per_file": 110.9
    },
    "complexity": {
      "average_function_length": 25,
      "max_function_length": 70,
      "functions_over_50_lines": 4,
      "estimated_cyclomatic_complexity": "high",
      "deeply_nested_functions": 3
    }
  },
  "quality_scores": {
    "overall": 6.5,
    "code_patterns": 6.0,
    "testing": 4.5,
    "documentation": 8.0,
    "maintainability": 6.5,
    "security": 8.5
  },
  "testing_metrics": {
    "test_coverage": {
      "estimated_percentage": 30,
      "lines_covered": 705,
      "lines_total": 2350,
      "files_with_tests": 8,
      "files_without_tests": 18
    },
    "test_counts": {
      "total_tests": 28,
      "unit_tests": 26,
      "integration_tests": 2,
      "e2e_tests": 0,
      "security_tests": 0,
      "performance_tests": 0
    },
    "test_quality": {
      "mocked_tests": 18,
      "assertion_count": 85,
      "test_file_ratio": 0.077,
      "average_test_length": 19
    }
  },
  "code_quality_metrics": {
    "duplication": {
      "estimated_percentage": 40,
      "major_duplications": [
        {
          "files": ["src/main.py", "src/main_secure.py"],
          "lines": 200,
          "similarity": "high"
        }
      ],
      "minor_duplications": 3
    },
    "coupling": {
      "high_coupling_modules": [
        "src/main.py",
        "src/api.py"
      ],
      "dependency_violations": 5,
      "circular_dependencies": 0
    },
    "cohesion": {
      "low_cohesion_modules": [
        "src/main.py"
      ],
      "single_responsibility_violations": 3
    }
  },
  "documentation_metrics": {
    "readme_quality": {
      "score": 9.0,
      "sections": 15,
      "code_examples": 8,
      "setup_instructions": true,
      "api_documentation": true
    },
    "inline_documentation": {
      "functions_with_docstrings": 45,
      "functions_without_docstrings": 22,
      "classes_with_docstrings": 8,
      "modules_with_docstrings": 12,
      "docstring_coverage": 67
    },
    "external_documentation": {
      "security_guide": true,
      "deployment_guide": true,
      "api_reference": true,
      "architecture_docs": false,
      "contributing_guide": false
    }
  },
  "maintainability_metrics": {
    "technical_debt": {
      "critical_issues": 3,
      "high_priority_issues": 5,
      "medium_priority_issues": 6,
      "low_priority_issues": 4,
      "estimated_hours_to_fix": 160
    },
    "code_smells": {
      "long_methods": 4,
      "large_classes": 2,
      "god_objects": 1,
      "dead_code": 2,
      "magic_numbers": 8
    },
    "refactoring_opportunities": {
      "extract_method": 6,
      "extract_class": 2,
      "move_method": 4,
      "rename_variable": 12,
      "simplify_conditional": 3
    }
  },
  "security_metrics": {
    "security_features": {
      "authentication": true,
      "authorization": true,
      "input_validation": true,
      "output_encoding": true,
      "rate_limiting": true,
      "cors_protection": true
    },
    "security_tests": {
      "count": 0,
      "coverage": 0,
      "automated": false
    },
    "vulnerabilities": {
      "critical": 0,
      "high": 0,
      "medium": 0,
      "low": 0
    }
  },
  "performance_metrics": {
    "async_usage": {
      "async_functions": 15,
      "sync_functions": 52,
      "async_percentage": 22.4
    },
    "database_usage": {
      "connection_pooling": false,
      "query_optimization": false,
      "caching": false
    },
    "api_design": {
      "pagination": false,
      "filtering": true,
      "compression": false,
      "rate_limiting": true
    }
  },
  "trends": {
    "code_growth": {
      "estimated_velocity": "medium",
      "files_added_per_month": 3,
      "lines_added_per_month": 500
    },
    "quality_trend": {
      "direction": "stable",
      "quality_debt_velocity": "increasing",
      "test_coverage_trend": "stable"
    }
  },
  "recommendations_summary": {
    "immediate_actions": 3,
    "short_term_goals": 5,
    "long_term_objectives": 4,
    "estimated_effort_days": 45
  },
  "benchmark_comparison": {
    "industry_average": {
      "test_coverage": 75,
      "code_duplication": 15,
      "documentation_coverage": 60
    },
    "project_vs_industry": {
      "test_coverage_gap": -45,
      "duplication_excess": +25,
      "documentation_advantage": +7
    }
  }
}